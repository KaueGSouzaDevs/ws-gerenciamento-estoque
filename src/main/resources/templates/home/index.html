<!doctype html>
<html lang="pt-br" xmlns:th="http://thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout}" th:with="menu='dashboards'">

<head>
</head>

<th:block layout:fragment="pagetitle">
    <div th:replace="~{partials/title-meta :: title-meta('Página Inicial')}"></div>
</th:block>

<th:block layout:fragment="conteudo">
    <div th:replace="~{partials/page-title :: page-title('Dashboards','Home')}"> </div>

    <!-- Cards -->
    <div class="row">
        <div class="col-sm-12 col-md-6 col-lg-2 mb-3">
            <div class="card">
                <div class="card-body">
                    <div class="card-title">
                        <h6 class="text-nowrap mb-1">Valor total do estoque</h6>
                    </div>
                    <div class="d-inline-flex">
                        <h4 class="text-success rounded-2 fw-bolder bg-success-subtle p-1 me-2"><i class="bx bx-cart fs-3"></i></h4>
                        <h4 class="p-1 mt-1">3.500</h4>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-12 col-md-6 col-lg-2 mb-3">
            <div class="card">
                <div class="card-body">
                    <div class="card-title">
                        <h6 class="text-nowrap mb-1">Itens em estoque</h6>
                    </div>
                    <div class="d-inline-flex">
                        <h4 class="text-success rounded-2 fw-bolder bg-success-subtle p-1 me-2"><i class="bx bx-cart fs-3"></i></h4>
                        <h4 class="p-1 mt-1">3.500</h4>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-12 col-md-6 col-lg-2 mb-3">
            <div class="card">
                <div class="card-body">
                    <div class="card-title">
                        <h6 class="text-nowrap mb-1">Movimentações do dia</h6>
                    </div>
                    <div class="d-inline-flex">
                        <h4 class="text-success rounded-2 fw-bolder bg-success-subtle p-1 me-2"><i class="bx bx-cart fs-3"></i></h4>
                        <h4 class="p-1 mt-1">3.500</h4>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-12 col-md-6 col-lg-2 mb-3">
            <div class="card">
                <div class="card-body">
                    <div class="card-title">
                        <h6 class="text-nowrap mb-1">Itens em estoque baixo</h6>
                    </div>
                    <div class="d-inline-flex">
                        <h4 class="text-success rounded-2 fw-bolder bg-success-subtle p-1 me-2"><i class="bx bx-cart fs-3"></i></h4>
                        <h4 class="p-1 mt-1">3.500</h4>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-12 col-md-6 col-lg-2 mb-3">
            <div class="card">
                <div class="card-body">
                    <div class="card-title">
                        <h6 class="text-nowrap mb-1">Valor das saídas do mês</h6>
                    </div>
                    <div class="d-inline-flex">
                        <h4 class="text-success rounded-2 fw-bolder bg-success-subtle p-1 me-2"><i class="bx bx-cart fs-3"></i></h4>
                        <h4 class="p-1 mt-1">3.500</h4>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-12 col-md-6 col-lg-2 mb-3">
            <div class="card">
                <div class="card-body">
                    <div class="card-title">
                        <h6 class="text-nowrap mb-1">Fornecedores ativos</h6>
                    </div>
                    <div class="d-inline-flex">
                        <h4 class="text-success rounded-2 fw-bolder bg-success-subtle p-1 me-2"><i class="bx bx-cart fs-3"></i></h4>
                        <h4 class="p-1 mt-1">3.500</h4>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Month Evolution and Table -->
    <div class="row">
        <div class="col-md-12 col-lg-6 col-xl-7 mb-3">
            <div class="card">
                <div class="card-body">
                    <div id="month-evolution"></div>
                </div>
            </div>
        </div>
        <div class="col-md-12 col-lg-6 col-xl-5 mb-3">
            <div class="card">
                <div class="card-body">
                    <div class="text-header">
                        <h5 class="text-nowrap mb-1">Materiais com Estoque Baixo</h5>
                    </div>
                    <div class="table-responsive" style="max-height: 342px; overflow-y: auto;">
                        <table class="table table-striped align-middle nowrap w-100">
                            <thead class="sticky-top table-light">
                                <tr>
                                    <th>Nome</th>
                                    <th class="text-center">Quantidade Atual</th>
                                    <th class="text-center">Quantidade Mínima</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                                <tr>
                                    <td>Item 1</td>
                                    <td class="w-20 text-center">10</td>
                                    <td class="w-20 text-center">5</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-6">
            <div class="card">
                <div class="card-body">
                    <div id="top5-best-selling-items"></div>
                </div>
            </div>
        </div>
    </div>
</th:block>

</html>

<script th:src="@{/assets/vendor/libs/apex-charts/apexcharts.js}"></script>

<script>
    var optionsMonthEvolution = {
        chart: {
            height: 350,
            type: 'line',
            zoom: {
                enabled: true
            }
        },
        series: [
            {
                name: "Saídas",
                data: [10, 41, 35, 51, 49, 62, 69, 91, 148]
            },
            {
                name: "Entradas",
                data: [10, 34, 13, 56, 77, 88, 99, 77, 45]
            }
        ],
        colors: ['#ffbb11', '#00ab55'],

        dataLabels: {
            enabled: true
        },
        stroke: {
            curve: 'straight',
            width: 3.5
        },
        title: {
            text: 'Evolução Mensal de Movimentações',
            align: 'center'
        },
        grid: {
            row: {
                colors: ['#f3f3f3', 'transparent'],
                opacity: 0.5,
            },
        },
        xaxis: {
            categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'],
        }
    };
    var chartMonthEvolution = new ApexCharts(document.querySelector("#month-evolution"), optionsMonthEvolution);
    chartMonthEvolution.render();

    var optionsTop5BestSellingItems = {
        chart: {
            height: 350,
            type: 'donut',
        },
        series: [44, 55, 13, 33],
        labels: ['Apple', 'Mango', 'Orange', 'Watermelon'],
        title: {
            text: 'Evolução Mensal de Movimentações',
            align: 'center'
        },
        plotOptions: {
            pie: {
                donut: {
                    labels: {
                        show: true,
                        name: {
                            offsetY: -15
                        },
                        value: {
                            offsetY: 15
                        }
                    }
                }
            }
        },
        legend: {
            position: 'bottom'
        }
    }
    var chartTop5BestSelling = new ApexCharts(document.querySelector("#top5-best-selling-items"), optionsTop5BestSellingItems);
    chartTop5BestSelling.render();


</script>
